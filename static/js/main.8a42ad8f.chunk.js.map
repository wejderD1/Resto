{"version":3,"sources":["components/app-header/shopping-cart-solid.svg","components/app/food-bg.jpg","components/menu-list-item/index.js","components/menu-list-item/menu-list-item.js","components/resto-service-context/index.js","components/resto-service-context/resto-service-context.js","components/hoc/index.js","components/hoc/with-resto-service.js","actions/index.js","components/spinner/index.js","components/spinner/spinner.js","components/error/index.js","components/error/error.js","components/menu-list/menu-list.js","components/menu-list/index.js","components/pages/main-page.js","components/cart-table/cart-table.js","components/cart-table/index.js","components/pages/cart-page.js","components/app-header/index.js","components/app-header/app-header.js","components/pages/itemPage.js","components/app/index.js","components/app/app.js","services/resto-service.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","reducers/index.js","store.js","index.js"],"names":["module","exports","__webpack_require__","p","MenuListItem","_ref","data","onAddToCart","title","url","category","price","react_default","a","createElement","Fragment","className","react_router_dom","to","concat","id","src","alt","onClick","RestoServiceContext","React","createContext","WithRestoService","Wrapped","props","components_resto_service_context","Consumer","RestoService","Object","assign","menuLoaded","newMenu","type","payload","menuRequested","menuError","Spinner","Error","MenuList","_this","this","_this$props","getMenuItems","then","res","catch","error","console","_this$props2","menuItems","loading","addedToCart","components_error","components_spinner","items","map","elem","components_menu_list_item","key","menu_list_View","Component","mapDispatchToProps","View","connect","state","menu","MainPage","components_menu_list","generateOrder","item","qtty","deleteFromCart","CartTable","_ref2","length","setOrder","CartPage","components_cart_table","AppHeader","totalPrice","cartIcon","ItemPage","match","params","find","App","style","background","Background","components_app_header","total","react_router","path","exact","component","_apiBase","fetch","ok","status","json","getResource","log","el","order","getOrderNumber","number","newOrder","method","headers","Content-Type","body","JSON","stringify","orderNumber","ErrorBoundry","setState","children","initialState","reducer","arguments","undefined","action","objectSpread","itemInd","findIndex","itemInState","newItem","toConsumableArray","slice","idx","itemIndex","store","createStore","restoService","ReactDOM","render","es","error_boundry","Provider","value","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.8a42ad8f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/shopping-cart-solid.701d6d1d.svg\";","module.exports = __webpack_public_path__ + \"static/media/food-bg.698e5e80.jpg\";","import MenuListItem from './menu-list-item';\nexport default MenuListItem;","import React from 'react';\nimport './menu-list-item.scss';\nimport { Link } from \"react-router-dom\";\n\nconst MenuListItem = ({ data, onAddToCart }) => {\n\n    const { title, url, category, price } = data;\n\n    return (\n        <>\n            <li className=\"menu__item\">\n                <Link to={`/${data.id}`}>\n                    <div className=\"menu__title\">{title}</div>\n                    <img className=\"menu__img\" src={url} alt=\"img\"></img>\n                    <div className=\"menu__category\">Category: <span>{category}</span></div>\n                    <div className=\"menu__price\">Price: <span>{price}$</span></div>\n\n                </Link>\n                    <button onClick={() => { onAddToCart() }} className=\"menu__btn\">Add to cart</button>\n                    <span className={`menu__category_Img ${category}`}></span>\n\n            </li>\n        </>\n    )\n}\n\n\nexport default MenuListItem;","import RestoServiceContext from './resto-service-context';\n\nexport default RestoServiceContext;","import React from \"react\";\r\n\r\nconst RestoServiceContext = React.createContext();\r\n\r\nexport default RestoServiceContext;","import WithRestoService from './with-resto-service';\n\nexport default WithRestoService;","import React from 'react';\nimport RestoServiceContext from '../resto-service-context';\n\nconst WithRestoService = () => (Wrapped) => {\n    return (props) => {\n        return (\n            <RestoServiceContext.Consumer>\n                {\n                    (RestoService) => {\n                        return <Wrapped {...props} RestoService={RestoService}/>\n                    }\n                }\n            </RestoServiceContext.Consumer>\n        )\n    }\n};\n\nexport default WithRestoService;","const menuLoaded = (newMenu) => {\r\n    return {\r\n        type: \"MENU_LOADED\", // при этом действии\r\n        payload: newMenu // передаваемое значение\r\n    }\r\n}\r\n\r\nconst menuRequested = () => {\r\n    return {\r\n        type: \"MENU_REQUESTED\", // при этом действии\r\n    }\r\n}\r\n\r\nconst menuError = () => {\r\n    return {\r\n        type: \"MENU_ERROR\", // при этом действии\r\n    }\r\n}\r\n\r\nconst addedToCart = (id) => {\r\n    return {\r\n        type: \"ITEM_ADD_TO_CART\",\r\n        payload: id\r\n    }\r\n}\r\n\r\nconst deleteFromCart = (id) => {\r\n    return {\r\n        type: \"ITEM_REMOVE_FROM_CART\",\r\n        payload: id\r\n    }\r\n}\r\n\r\nexport {\r\n    menuLoaded,\r\n    menuRequested,\r\n    menuError,\r\n    addedToCart,\r\n    deleteFromCart\r\n};\r\n","import Spinner from './spinner';\n\nexport default Spinner;","import React from 'react';\n\nconst Spinner = () => {\n    return <div className=\"spinner\">loading...</div>\n}\n\nexport default Spinner;","import Error from './error';\n\nexport default Error;","import React from 'react';\n\nconst Error = () => {\n    return <div className=\"error\">Error</div>\n}\n\nexport default Error;","import React, { Component } from 'react';\nimport MenuListItem from '../menu-list-item';\nimport { connect } from \"react-redux\";\nimport WithRestoService from \"../hoc\";\nimport { menuLoaded, menuRequested, menuError, addedToCart } from \"../../actions\";\nimport Spinner from \"../spinner\";\nimport Error from \"../error\";\n\nimport './menu-list.scss';\n\nclass MenuList extends Component {\n\n    componentDidMount() {\n        this.props.menuRequested();\n\n        const { RestoService, menuLoaded } = this.props;\n        RestoService.getMenuItems()\n            .then(res => menuLoaded(res))\n            .catch(error => {\n                this.props.menuError();\n                console.error('Ошибка:', error);\n            })\n    }\n\n    render() {\n        const { menuItems, loading, error, addedToCart } = this.props;\n\n        if (error) {\n            return <Error />\n        }\n\n        if (loading) {\n            return <Spinner />\n        }\n\n        const items = menuItems.map(elem => <MenuListItem\n                                                key={elem.id}\n                                                data={elem}\n                                                onAddToCart={() => {addedToCart(elem.id)}}\n                                            />)\n\n        return (\n            <View items={items} />\n        )\n    }\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        menuItems: state.menu,\n        loading: state.loading,\n        error: state.error\n    }\n}\n\nconst mapDispatchToProps = {\n    menuLoaded,\n    menuRequested,\n    menuError,\n    addedToCart\n}\n\nconst View = ({ items }) => {\n    return (\n        <ul className=\"menu__list\">\n            {items}\n        </ul>\n\n    )\n}\n\nexport default WithRestoService()(connect(mapStateToProps, mapDispatchToProps)(MenuList));","import MenuList from './menu-list';\nexport default MenuList;","import React from 'react';\nimport MenuList from '../menu-list';\n\nconst MainPage = () => {\n    return (\n        <MenuList />\n    )\n}\n\nexport default MainPage;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport {deleteFromCart} from '../../actions';\nimport WithRestoService from '../hoc';\n\nimport './cart-table.scss';\n\nconst CartTable = ({items, deleteFromCart, RestoService}) => {\n    if( items.length === 0){\n        return (<div className=\"cart__title\"> Ваша корзина пуста :( </div>)\n    }\n    return (\n        <>\n            <div className=\"cart__title\">Ваш заказ:</div>\n            <div className=\"cart__list\">\n            {\n                items.map( item => {\n                    const {price, title, url, id, qtty} = item;\n                    return (\n                        <div key = {id} className=\"cart__item\">\n                            <img src={url} className=\"cart__item-img\" alt={title}></img>\n                            <div className=\"cart__item-title\">{title}</div>\n                            <div className=\"cart__item-price\">{price}$ * {qtty}</div>\n                            <div onClick = {() => deleteFromCart(id)}className=\"cart__close\">&times;</div>\n                        </div>\n                    );\n                })\n            }\n            </div>\n            <button onClick = {() => {RestoService.setOrder( generateOrder(items))} } className = \"order\">Оформить заказ</button>\n        </>\n    );\n};\n\nconst generateOrder = (items) => {\n    const newOrder = items.map(item => {\n        return {\n            id: item.id,\n            qtty: item.qtty\n        }\n    })\n    return newOrder;\n}\n\nconst mapStateToProps = ({items}) => {\n    return{\n        items \n    }\n};\n\nconst mapDispatchToProps = {\n    deleteFromCart\n}\n\nexport default WithRestoService()(connect(mapStateToProps, mapDispatchToProps)(CartTable));","import CartTable from './cart-table';\n\nexport default CartTable;","import React from 'react';\nimport CartTable from '../cart-table';\n\nconst CartPage = () => {\n    return (\n        <div className=\"cart\"> \n            <CartTable/>\n        </div>\n    )\n}\n\nexport default CartPage;","import AppHeader from './app-header';\n\nexport default AppHeader;","\nimport React from 'react';\nimport cartIcon from './shopping-cart-solid.svg';\nimport './app-header.scss';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst AppHeader = ({totalPrice}) => {\n\n    return (\n        <header className=\"header\">\n            <Link to ={'/'} className = \"header__link\">Menu</Link>\n            <Link to = \"/cart\" className = \"header__link\">\n                <img className=\"header__cart\" src={cartIcon} alt=\"cart\"></img>\n                Total: {totalPrice} $\n            </Link>\n        </header>\n    )\n};\n\nconst mapStateToProps = ({totalPrice}) => {\n    return{\n        totalPrice\n    }\n}\n\nexport default connect(mapStateToProps)(AppHeader);","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Spinner from \"../spinner\";\r\nimport { menuLoaded, menuRequested, menuError } from \"../../actions/index\"\r\nimport WithRestoService from \"../hoc\";\r\n\r\nimport \"./itemPage.css\";\r\nclass ItemPage extends Component {\r\n\r\n    componentDidMount() {\r\n        const { menuRequested, menuLoaded, menuError, RestoService } = this.props;\r\n\r\n        if (this.props.menuItems.length === 0) {\r\n            menuRequested();\r\n\r\n            RestoService.getMenuItems()\r\n                .then(res => menuLoaded(res))\r\n                .catch(error => menuError());\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { loading, menuItems, match } = this.props;\r\n        const {id} = match.params;\r\n\r\n        if (loading) {\r\n            return (\r\n                <div className=\"item__page\">\r\n                    <Spinner />\r\n                </div>\r\n            )\r\n        }\r\n\r\n        const item = menuItems.find(elem => +elem.id === +id)\r\n\r\n        const{title, url, category, price} = item;\r\n\r\n        return (\r\n            <div className=\"item__page\">\r\n                <div className=\"menu__item item__block\">\r\n                    <div className=\"menu__title\">{title}</div>\r\n                    <img className=\"menu__img\" src={url} alt=\"img\"></img>\r\n                    <div className=\"menu__category\">Category: <span>{category}</span></div>\r\n                    <div className=\"menu__price\">Price: <span>{price}</span></div>\r\n                    <button className=\"menu__btn\">Add to cart</button>\r\n                    <span className={`menu__category_Img ${category}`}></span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        menuItems: state.menu,\r\n        loading: state.loading,\r\n        error: state.error\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    menuLoaded,\r\n    menuRequested,\r\n    menuError\r\n}\r\n\r\nexport default WithRestoService()(connect(mapStateToProps, mapDispatchToProps)(ItemPage))","import App from './app';\n\nexport default App;","import React from 'react';\nimport { MainPage, CartPage } from '../pages';\nimport AppHeader from '../app-header';\nimport { Route, Switch } from \"react-router-dom\";\n\nimport Background from './food-bg.jpg';\nimport ItemPage from '../pages/itemPage';\n\nconst App = () => {\n    return (\n        <div style={{ background: `url(${Background}) center center/cover no-repeat` }} className=\"app\">\n            <AppHeader total={50} />\n            <Switch>\n                <Route\n                    path=\"/\"\n                    exact\n                    component={MainPage}\n                />\n                <Route\n                    path=\"/cart\"\n                    component={CartPage}\n                />\n                <Route\n                    path=\"/:id\" \n                    component={ItemPage} \n                />\n            </Switch>\n\n        </div>\n    )\n}\n\nexport default App;","export default class RestoService{\r\n    _apiBase = 'http://localhost:3000';\r\n\r\n    async getResource(url) {\r\n        const res = await fetch(`${this._apiBase}${url}`);\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}` + \r\n                `, received ${res.status}`);\r\n        }\r\n        return await res.json();\r\n    }\r\n\r\n    async getMenuItems () {\r\n        return await this.getResource('/menu/');\r\n    }\r\n\r\n    async getItem(id) {\r\n        const res = await this.getResource('/menu/');\r\n        console.log(res);\r\n        const item = res.find( (el) => {\r\n            console.log(`el.id: ${el.id}, id: ${id}`);\r\n            return el.id === +id;\r\n        }) \r\n        console.log(item);\r\n        return item;\r\n    }\r\n\r\n    async setOrder(order) {\r\n        const number = await this.getOrderNumber();\r\n        const newOrder = {\r\n            id: number,\r\n            order: order\r\n        }\r\n        const response = await fetch(`${this._apiBase}/orders`, {\r\n            method: 'POST', \r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8'\r\n            },\r\n            body: JSON.stringify(newOrder)\r\n        });\r\n        if (!response.ok){\r\n            throw new Error('json error'); \r\n        }\r\n    }\r\n\r\n    async getOrderNumber(){\r\n        const res = await this.getResource('/orders/');\r\n        const orderNumber = res.length+1;\r\n\r\n        return orderNumber\r\n    }\r\n}","import ErrorBoundry from './error-boundry';\n\nexport default ErrorBoundry;","import React, {Component} from 'react';\nimport Error from '../error';\n\nexport default class ErrorBoundry extends Component {\n\n    state = {\n        error: false\n    }\n\n    componentDidCatch(){\n        this.setState({error: true});\n    }\n\n    render() {\n        return this.state.error ? <Error /> : this.props.children;\n    }\n}","const initialState = {\r\n    menu: [],\r\n    loading: true,\r\n    error: false,\r\n    items: [],\r\n    totalPrice: 0\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"MENU_LOADED\":\r\n            return {\r\n                ...state,\r\n                menu: action.payload,\r\n                loading: false\r\n            };\r\n        case \"MENU_REQUESTED\":\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            };\r\n        case \"MENU_ERROR\":\r\n            return {\r\n                ...state,\r\n                error: true\r\n            };\r\n        case 'ITEM_ADD_TO_CART':\r\n            const id = action.payload;\r\n\r\n            const itemInd = state.items.findIndex(item => item.id === id);\r\n            if (itemInd >= 0) {\r\n                const itemInState = state.items.find(item => item.id === id);\r\n                const newItem = {\r\n                    ...itemInState,\r\n                    qtty: ++itemInState.qtty\r\n                }\r\n                return {\r\n                    ...state,\r\n                    items: [\r\n                        ...state.items.slice(0, itemInd),\r\n                        newItem,\r\n                        ...state.items.slice(itemInd + 1)\r\n                    ],\r\n                    totalPrice: state.totalPrice + newItem.price\r\n                }\r\n\r\n            }\r\n            // товара раньше не было в корзине\r\n            const item = state.menu.find(item => item.id === id);\r\n            const newItem = {\r\n                title: item.title,\r\n                price: item.price,\r\n                url: item.url,\r\n                id: item.id,\r\n                qtty: 1\r\n            };\r\n\r\n            return {\r\n                ...state,\r\n                items: [\r\n                    ...state.items,\r\n                    newItem\r\n                ],\r\n                totalPrice: state.totalPrice + newItem.price\r\n            };\r\n\r\n        case 'ITEM_REMOVE_FROM_CART':\r\n            const idx = action.payload;\r\n            const itemIndex = state.items.findIndex(item => item.id === idx)\r\n            const price = state.items[itemIndex]['price'] * state.items[itemIndex]['qtty'];\r\n            return {\r\n                ...state,\r\n                items: [\r\n                    ...state.items.slice(0, itemIndex),\r\n                    ...state.items.slice(itemIndex + 1)\r\n                ],\r\n                totalPrice: state.totalPrice - price\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import { createStore } from \"redux\";\r\nimport reducer from \"./reducers\";\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport RestoService from \"./services/resto-service\";\nimport ErrorBoundry from \"./components/error-boundry\";\nimport RestoServiceContext from \"./components/resto-service-context\";\nimport store from \"./store\";\n\nimport './index.scss';\n\nconst restoService = new RestoService();\n\nReactDOM.render(\n    <Provider store={store}>\n        <ErrorBoundry>\n            <RestoServiceContext.Provider value={restoService}>\n                <Router>\n                    <App />\n                </Router>\n            </RestoServiceContext.Provider>\n        </ErrorBoundry>\n    </Provider>\n    , document.getElementById('root'));\n\n"],"sourceRoot":""}